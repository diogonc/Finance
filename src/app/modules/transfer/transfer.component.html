<h1 class="title is-5">Nova transferência</h1>
<form class="formulario" (ngSubmit)="save()">
    <div class="notification is-danger" *ngFor="let error of errors">
        {{error}}
    </div>

    <div class="field">
        <div class="control">
            <label class="label" for="value">Valor:</label>

            <input class="input" id="value" [(ngModel)]="transferVm.value" type="number" step="0.01" min="0" name="value">
        </div>
    </div>
    <div class="field">
        <div class="control">
            <label class="label" for="description">Descrição:</label>

            <input class="input" [(ngModel)]="transferVm.description" type="text" name="description">
        </div>
    </div>
    <div class="field">
        <div class="control">
            <label class="label" for="fromAccount">Conta origem</label>

            <span class="select">
                <select [(ngModel)]="transferVm.fromAccountIndex" name="fromAccountIndex">
                    <option *ngFor="let a of accounts; let i = index" [value]="i">{{a.name}}</option>
                </select>
            </span>
        </div>
    </div>
    <div class="field">
        <div class="control">
            <label class="label" for="toAccount">Conta destino</label>

            <span class="select">
                <select [(ngModel)]="transferVm.toAccountIndex" name="toAccountIndex">
                    <option *ngFor="let a of accounts; let i = index" [value]="i">{{a.name}}</option>
                </select>
            </span>
        </div>
    </div>
    <div class="field">
        <div class="control">
            <label class="label" for="date">Data</label>

            <input class="input" [(ngModel)]="transferVm.date" type="date" name="date">
        </div>
    </div>
    <div class="field is-grouped">
        <div class="control">

            <button class="button is-primary" type="submit">Salvar</button>
            <button class="button" type="button" (click)="back()">Voltar</button>
        </div>
    </div>
</form>
<app-spinner [isRunning]="isRequesting"></app-spinner>